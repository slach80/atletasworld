<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notification Settings - Atletas World</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: { extend: { colors: { primary: '#1a1a1a', secondary: '#2ecc71', accent: '#e74c3c' } } }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/"><img src="/media/APC-logo.jpg" alt="Atletas World" class="h-10 w-auto"></a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="{% url 'clients:dashboard' %}" class="text-gray-600 hover:text-secondary">Dashboard</a>
                    <a href="/accounts/logout/" class="text-gray-600 hover:text-accent">Logout</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Breadcrumb -->
        <div class="flex items-center text-sm text-gray-500 mb-6">
            <a href="{% url 'clients:dashboard' %}" class="hover:text-secondary">Dashboard</a>
            <svg class="w-4 h-4 mx-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
            <span class="text-gray-800">Notification Settings</span>
        </div>

        {% if messages %}
        <div class="mb-6 space-y-2">
            {% for message in messages %}
            <div class="p-4 rounded-lg bg-green-100 text-green-800">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="bg-white rounded-xl shadow-md p-8">
            <h1 class="text-2xl font-bold text-gray-800 mb-2">Notification Settings</h1>
            <p class="text-gray-600 mb-6">Choose how you want to receive notifications.</p>

            <form method="POST" class="space-y-6">
                {% csrf_token %}

                <!-- Booking Notifications -->
                <div class="border-b pb-6">
                    <h2 class="text-lg font-semibold text-gray-700 mb-4">Booking Notifications</h2>

                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800">Booking Confirmations</p>
                                <p class="text-sm text-gray-500">When a booking is confirmed</p>
                            </div>
                            <select name="booking_confirmations" class="px-4 py-2 border rounded-lg">
                                {% for value, label in method_choices %}
                                <option value="{{ value }}" {% if prefs.booking_confirmations == value %}selected{% endif %}>{{ label }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800">Booking Reminders</p>
                                <p class="text-sm text-gray-500">Reminder before your session</p>
                            </div>
                            <select name="booking_reminders" class="px-4 py-2 border rounded-lg">
                                {% for value, label in method_choices %}
                                <option value="{{ value }}" {% if prefs.booking_reminders == value %}selected{% endif %}>{{ label }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800">Booking Cancellations</p>
                                <p class="text-sm text-gray-500">When a booking is cancelled</p>
                            </div>
                            <select name="booking_cancellations" class="px-4 py-2 border rounded-lg">
                                {% for value, label in method_choices %}
                                <option value="{{ value }}" {% if prefs.booking_cancellations == value %}selected{% endif %}>{{ label }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Reminder Timing -->
                <div class="border-b pb-6">
                    <h2 class="text-lg font-semibold text-gray-700 mb-4">Reminder Timing</h2>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-gray-800">Send reminder before session</p>
                            <p class="text-sm text-gray-500">How many hours before the session</p>
                        </div>
                        <select name="reminder_hours_before" class="px-4 py-2 border rounded-lg">
                            <option value="1" {% if prefs.reminder_hours_before == 1 %}selected{% endif %}>1 hour</option>
                            <option value="2" {% if prefs.reminder_hours_before == 2 %}selected{% endif %}>2 hours</option>
                            <option value="6" {% if prefs.reminder_hours_before == 6 %}selected{% endif %}>6 hours</option>
                            <option value="12" {% if prefs.reminder_hours_before == 12 %}selected{% endif %}>12 hours</option>
                            <option value="24" {% if prefs.reminder_hours_before == 24 %}selected{% endif %}>24 hours</option>
                            <option value="48" {% if prefs.reminder_hours_before == 48 %}selected{% endif %}>48 hours</option>
                        </select>
                    </div>
                </div>

                <!-- Other Notifications -->
                <div class="border-b pb-6">
                    <h2 class="text-lg font-semibold text-gray-700 mb-4">Other Notifications</h2>

                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800">Purchase Confirmations</p>
                                <p class="text-sm text-gray-500">When you purchase a package</p>
                            </div>
                            <select name="purchase_confirmations" class="px-4 py-2 border rounded-lg">
                                {% for value, label in method_choices %}
                                <option value="{{ value }}" {% if prefs.purchase_confirmations == value %}selected{% endif %}>{{ label }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800">Assessment Notifications</p>
                                <p class="text-sm text-gray-500">When coach submits an assessment</p>
                            </div>
                            <select name="assessment_notifications" class="px-4 py-2 border rounded-lg">
                                {% for value, label in method_choices %}
                                <option value="{{ value }}" {% if prefs.assessment_notifications == value %}selected{% endif %}>{{ label }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800">Promotional Updates</p>
                                <p class="text-sm text-gray-500">News, offers, and updates</p>
                            </div>
                            <select name="promotional_updates" class="px-4 py-2 border rounded-lg">
                                {% for value, label in method_choices %}
                                <option value="{{ value }}" {% if prefs.promotional_updates == value %}selected{% endif %}>{{ label }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>

                <div class="flex justify-end space-x-4 pt-4">
                    <a href="{% url 'clients:dashboard' %}" class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">Cancel</a>
                    <button type="submit" class="px-6 py-3 bg-secondary text-white rounded-lg hover:bg-green-600">Save Settings</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
